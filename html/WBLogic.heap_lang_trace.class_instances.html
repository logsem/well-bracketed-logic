<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../index.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">WBLogic.heap_lang_trace.class_instances</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">language</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">WBLogic.heap_lang_trace</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#"><span class="id" title="library">lang</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">WBLogic.heap_lang_trace</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="WBLogic.heap_lang_trace.tactics.html#"><span class="id" title="library">tactics</span></a> <a class="idref" href="WBLogic.heap_lang_trace.notation.html#"><span class="id" title="library">notation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">options</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="into_val_val" class="idref" href="#into_val_val"><span class="id" title="instance">into_val_val</span></a> <a id="v:1" class="idref" href="#v:1"><span class="id" title="binder">v</span></a> : <span class="id" title="class">IntoVal</span> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:1"><span class="id" title="variable">v</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:1"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="as_val_val" class="idref" href="#as_val_val"><span class="id" title="instance">as_val_val</span></a> <a id="v:2" class="idref" href="#v:2"><span class="id" title="binder">v</span></a> : <span class="id" title="class">AsVal</span> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:2"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h1 class="section">Instances of the <span class="inlinecode"><span class="id" title="class">Atomic</span></span> class</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="atomic" class="idref" href="#atomic"><span class="id" title="section">atomic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_atomic</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">strongly_atomic_atomic</span>, <span class="id" title="lemma">ectx_language_atomic</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">inversion</span> 1; <span class="id" title="var">naive_solver</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">apply</span> <span class="id" title="lemma">ectxi_language_sub_redexes_are_values</span>; <span class="id" title="tactic">intros</span> [] **; <span class="id" title="var">naive_solver</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="rec_atomic" class="idref" href="#rec_atomic"><span class="id" title="instance">rec_atomic</span></a> <a id="s:3" class="idref" href="#s:3"><span class="id" title="binder">s</span></a> <a id="f:4" class="idref" href="#f:4"><span class="id" title="binder">f</span></a> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> <a id="e:6" class="idref" href="#e:6"><span class="id" title="binder">e</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:3"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Rec"><span class="id" title="constructor">Rec</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:4"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e:6"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pair_atomic" class="idref" href="#pair_atomic"><span class="id" title="instance">pair_atomic</span></a> <a id="s:7" class="idref" href="#s:7"><span class="id" title="binder">s</span></a> <a id="v1:8" class="idref" href="#v1:8"><span class="id" title="binder">v1</span></a> <a id="v2:9" class="idref" href="#v2:9"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:7"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Pair"><span class="id" title="constructor">Pair</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:8"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:9"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="injl_atomic" class="idref" href="#injl_atomic"><span class="id" title="instance">injl_atomic</span></a> <a id="s:10" class="idref" href="#s:10"><span class="id" title="binder">s</span></a> <a id="v:11" class="idref" href="#v:11"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:10"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjL"><span class="id" title="constructor">InjL</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:11"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="injr_atomic" class="idref" href="#injr_atomic"><span class="id" title="instance">injr_atomic</span></a> <a id="s:12" class="idref" href="#s:12"><span class="id" title="binder">s</span></a> <a id="v:13" class="idref" href="#v:13"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:12"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjR"><span class="id" title="constructor">InjR</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:13"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The instance below is a more general version of <span class="inlinecode"><a class="idref" href="WBLogic.heap_lang_trace.notation.html#Skip"><span class="id" title="abbreviation">Skip</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="beta_atomic" class="idref" href="#beta_atomic"><span class="id" title="instance">beta_atomic</span></a> <a id="s:14" class="idref" href="#s:14"><span class="id" title="binder">s</span></a> <a id="f:15" class="idref" href="#f:15"><span class="id" title="binder">f</span></a> <a id="x:16" class="idref" href="#x:16"><span class="id" title="binder">x</span></a> <a id="v1:17" class="idref" href="#v1:17"><span class="id" title="binder">v1</span></a> <a id="v2:18" class="idref" href="#v2:18"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:14"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.App"><span class="id" title="constructor">App</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.RecV"><span class="id" title="constructor">RecV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:16"><span class="id" title="variable">x</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:17"><span class="id" title="variable">v1</span></a>)) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:18"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>, <span class="id" title="var">x</span>; <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="unop_atomic" class="idref" href="#unop_atomic"><span class="id" title="instance">unop_atomic</span></a> <a id="s:19" class="idref" href="#s:19"><span class="id" title="binder">s</span></a> <a id="op:20" class="idref" href="#op:20"><span class="id" title="binder">op</span></a> <a id="v:21" class="idref" href="#v:21"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:19"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.UnOp"><span class="id" title="constructor">UnOp</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#op:20"><span class="id" title="variable">op</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:21"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="binop_atomic" class="idref" href="#binop_atomic"><span class="id" title="instance">binop_atomic</span></a> <a id="s:22" class="idref" href="#s:22"><span class="id" title="binder">s</span></a> <a id="op:23" class="idref" href="#op:23"><span class="id" title="binder">op</span></a> <a id="v1:24" class="idref" href="#v1:24"><span class="id" title="binder">v1</span></a> <a id="v2:25" class="idref" href="#v2:25"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:22"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#op:23"><span class="id" title="variable">op</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:24"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:25"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="if_true_atomic" class="idref" href="#if_true_atomic"><span class="id" title="instance">if_true_atomic</span></a> <a id="s:26" class="idref" href="#s:26"><span class="id" title="binder">s</span></a> <a id="v1:27" class="idref" href="#v1:27"><span class="id" title="binder">v1</span></a> <a id="e2:28" class="idref" href="#e2:28"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:26"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitV"><span class="id" title="constructor">LitV</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:27"><span class="id" title="variable">v1</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e2:28"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="if_false_atomic" class="idref" href="#if_false_atomic"><span class="id" title="instance">if_false_atomic</span></a> <a id="s:29" class="idref" href="#s:29"><span class="id" title="binder">s</span></a> <a id="e1:30" class="idref" href="#e1:30"><span class="id" title="binder">e1</span></a> <a id="v2:31" class="idref" href="#v2:31"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:29"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitV"><span class="id" title="constructor">LitV</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e1:30"><span class="id" title="variable">e1</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:31"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="fst_atomic" class="idref" href="#fst_atomic"><span class="id" title="instance">fst_atomic</span></a> <a id="s:32" class="idref" href="#s:32"><span class="id" title="binder">s</span></a> <a id="v:33" class="idref" href="#v:33"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:32"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Fst"><span class="id" title="constructor">Fst</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:33"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="snd_atomic" class="idref" href="#snd_atomic"><span class="id" title="instance">snd_atomic</span></a> <a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> <a id="v:35" class="idref" href="#v:35"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:34"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Snd"><span class="id" title="constructor">Snd</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:35"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="fork_atomic" class="idref" href="#fork_atomic"><span class="id" title="instance">fork_atomic</span></a> <a id="s:36" class="idref" href="#s:36"><span class="id" title="binder">s</span></a> <a id="e:37" class="idref" href="#e:37"><span class="id" title="binder">e</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:36"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Fork"><span class="id" title="constructor">Fork</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e:37"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="alloc_atomic" class="idref" href="#alloc_atomic"><span class="id" title="instance">alloc_atomic</span></a> <a id="s:38" class="idref" href="#s:38"><span class="id" title="binder">s</span></a> <a id="v:39" class="idref" href="#v:39"><span class="id" title="binder">v</span></a> <a id="w:40" class="idref" href="#w:40"><span class="id" title="binder">w</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:38"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.AllocN"><span class="id" title="constructor">AllocN</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:39"><span class="id" title="variable">v</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#w:40"><span class="id" title="variable">w</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="free_atomic" class="idref" href="#free_atomic"><span class="id" title="instance">free_atomic</span></a> <a id="s:41" class="idref" href="#s:41"><span class="id" title="binder">s</span></a> <a id="v:42" class="idref" href="#v:42"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:41"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Free"><span class="id" title="constructor">Free</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:42"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="load_atomic" class="idref" href="#load_atomic"><span class="id" title="instance">load_atomic</span></a> <a id="s:43" class="idref" href="#s:43"><span class="id" title="binder">s</span></a> <a id="v:44" class="idref" href="#v:44"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:43"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Load"><span class="id" title="constructor">Load</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:44"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="xchg_atomic" class="idref" href="#xchg_atomic"><span class="id" title="instance">xchg_atomic</span></a> <a id="s:45" class="idref" href="#s:45"><span class="id" title="binder">s</span></a> <a id="v1:46" class="idref" href="#v1:46"><span class="id" title="binder">v1</span></a> <a id="v2:47" class="idref" href="#v2:47"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:45"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Xchg"><span class="id" title="constructor">Xchg</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:46"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:47"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="store_atomic" class="idref" href="#store_atomic"><span class="id" title="instance">store_atomic</span></a> <a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> <a id="v1:49" class="idref" href="#v1:49"><span class="id" title="binder">v1</span></a> <a id="v2:50" class="idref" href="#v2:50"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:48"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Store"><span class="id" title="constructor">Store</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:49"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:50"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cmpxchg_atomic" class="idref" href="#cmpxchg_atomic"><span class="id" title="instance">cmpxchg_atomic</span></a> <a id="s:51" class="idref" href="#s:51"><span class="id" title="binder">s</span></a> <a id="v0:52" class="idref" href="#v0:52"><span class="id" title="binder">v0</span></a> <a id="v1:53" class="idref" href="#v1:53"><span class="id" title="binder">v1</span></a> <a id="v2:54" class="idref" href="#v2:54"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:51"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.CmpXchg"><span class="id" title="constructor">CmpXchg</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v0:52"><span class="id" title="variable">v0</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:53"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:54"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="faa_atomic" class="idref" href="#faa_atomic"><span class="id" title="instance">faa_atomic</span></a> <a id="s:55" class="idref" href="#s:55"><span class="id" title="binder">s</span></a> <a id="v1:56" class="idref" href="#v1:56"><span class="id" title="binder">v1</span></a> <a id="v2:57" class="idref" href="#v2:57"><span class="id" title="binder">v2</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:55"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.FAA"><span class="id" title="constructor">FAA</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:56"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:57"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="new_proph_atomic" class="idref" href="#new_proph_atomic"><span class="id" title="instance">new_proph_atomic</span></a> <a id="s:58" class="idref" href="#s:58"><span class="id" title="binder">s</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.NewProph"><span class="id" title="constructor">NewProph</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="resolve_atomic" class="idref" href="#resolve_atomic"><span class="id" title="instance">resolve_atomic</span></a> <a id="s:59" class="idref" href="#s:59"><span class="id" title="binder">s</span></a> <a id="e:60" class="idref" href="#e:60"><span class="id" title="binder">e</span></a> <a id="v1:61" class="idref" href="#v1:61"><span class="id" title="binder">v1</span></a> <a id="v2:62" class="idref" href="#v2:62"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:59"><span class="id" title="variable">s</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e:60"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:59"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Resolve"><span class="id" title="constructor">Resolve</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e:60"><span class="id" title="variable">e</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:61"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:62"><span class="id" title="variable">v2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">e</span> <span class="id" title="var">into</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> σ1 <span class="id" title="var">e2</span> <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span> [<span class="id" title="var">Ks</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span> <span class="id" title="var">Hfill</span> -&gt; <span class="id" title="var">step</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">induction</span> <span class="id" title="var">Ks</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">K</span> <span class="id" title="var">Ks</span> <span class="id" title="var">_</span>] <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfill</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">step</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">H</span> σ1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> σ2 <span class="id" title="var">efs</span>), <span class="id" title="lemma">head_prim_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fill_app</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fill_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfill</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="v:63" class="idref" href="#v:63"><span class="id" title="binder"><span id="v:64" class="id">v</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">fill</span> <span class="id" title="var">Ks</span> <span class="id" title="var">e1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="notation">False</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">fill_absurd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">assert</span> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.to_val"><span class="id" title="definition">to_val</span></a> (<span class="id" title="definition">fill</span> <span class="id" title="var">Ks</span> <span class="id" title="var">e1'</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Htv</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#to_val_fill_some"><span class="id" title="lemma">to_val_fill_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htv</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htv</span> <span class="id" title="keyword">as</span> [-&gt; -&gt;]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">step</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">K</span>; (<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfill</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hfill</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> ?<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">fill</span> <span class="id" title="var">Ks</span> <span class="id" title="var">e1'</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">fill_absurd</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> (<span class="id" title="var">H</span> σ1 (<span class="id" title="definition">fill</span> (<span class="id" title="var">Ks</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="var">e2'</span>) <span class="id" title="var">_</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#to_val_fill_some"><span class="id" title="lemma">to_val_fill_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span>, <span class="id" title="var">Ks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#irreducible_resolve"><span class="id" title="lemma">irreducible_resolve</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fill_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fill_app</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="emit_atomic" class="idref" href="#emit_atomic"><span class="id" title="instance">emit_atomic</span></a> <a id="s:65" class="idref" href="#s:65"><span class="id" title="binder">s</span></a> <a id="v:66" class="idref" href="#v:66"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:65"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Emit"><span class="id" title="constructor">Emit</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:66"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="fresh_atomic" class="idref" href="#fresh_atomic"><span class="id" title="instance">fresh_atomic</span></a> <a id="s:67" class="idref" href="#s:67"><span class="id" title="binder">s</span></a> <a id="v:68" class="idref" href="#v:68"><span class="id" title="binder">v</span></a> : <span class="id" title="class">Atomic</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#s:67"><span class="id" title="variable">s</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Fresh"><span class="id" title="constructor">Fresh</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:68"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_atomic</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#atomic"><span class="id" title="section">atomic</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Instances of the <span class="inlinecode"><span class="id" title="class">PureExec</span></span> class</h1>
 The behavior of the various <span class="inlinecode"><span class="id" title="var">wp_</span></span> tactics with regard to lambda differs in
the following way:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">wp_pures</span></span> does *not* reduce lambdas/recs that are hidden behind a definition.

</li>
<li> <span class="inlinecode"><span class="id" title="var">wp_rec</span></span> and <span class="inlinecode"><span class="id" title="var">wp_lam</span></span> reduce lambdas/recs that are hidden behind a definition.

</li>
</ul>

<div class="paragraph"> </div>

To realize this behavior, we define the class <span class="inlinecode"><a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV"><span class="id" title="record">AsRecV</span></a></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">erec</span></span>, which takes a
value <span class="inlinecode"><span class="id" title="var">v</span></span> as its input, and turns it into a <span class="inlinecode"><a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.RecV"><span class="id" title="constructor">RecV</span></a></span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">erec</span></span> via the instance
<span class="inlinecode"><a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV"><span class="id" title="record">AsRecV</span></a></span> <span class="inlinecode">(<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.RecV"><span class="id" title="constructor">RecV</span></a></span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">e</span>)</span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>. We register this instance via
<span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Extern</span></span> so that it is only used if <span class="inlinecode"><span class="id" title="var">v</span></span> is syntactically a lambda/rec, and
not if <span class="inlinecode"><span class="id" title="var">v</span></span> contains a lambda/rec that is hidden behind a definition.

<div class="paragraph"> </div>

To make sure that <span class="inlinecode"><span class="id" title="var">wp_rec</span></span> and <span class="inlinecode"><span class="id" title="var">wp_lam</span></span> do reduce lambdas/recs that are hidden
behind a definition, we activate <span class="inlinecode"><a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a></span> by hand in these tactics. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="AsRecV" class="idref" href="#AsRecV"><span class="id" title="inductive, record"><span id="AsRecV" class="id">AsRecV</span></span></a> (<a id="v:69" class="idref" href="#v:69"><span class="id" title="binder">v</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.val"><span class="id" title="inductive">val</span></a>) (<a id="f:70" class="idref" href="#f:70"><span class="id" title="binder">f</span></a> <a id="x:71" class="idref" href="#x:71"><span class="id" title="binder">x</span></a> : <span class="id" title="inductive">binder</span>) (<a id="erec:72" class="idref" href="#erec:72"><span class="id" title="binder">erec</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.expr"><span class="id" title="inductive">expr</span></a>) :=<br/>
&nbsp;&nbsp;<a id="as_recv" class="idref" href="#as_recv"><span class="id" title="constructor, projection"><span id="as_recv" class="id">as_recv</span></span></a> : <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:69"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.RecV"><span class="id" title="constructor">RecV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:71"><span class="id" title="variable">x</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#erec:72"><span class="id" title="variable">erec</span></a>.<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV"><span class="id" title="class">AsRecV</span></a> ! - - - : <span class="id" title="var">typeclass_instances</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="AsRecV_recv" class="idref" href="#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a> <a id="f:75" class="idref" href="#f:75"><span class="id" title="binder">f</span></a> <a id="x:76" class="idref" href="#x:76"><span class="id" title="binder">x</span></a> <a id="e:77" class="idref" href="#e:77"><span class="id" title="binder">e</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV"><span class="id" title="class">AsRecV</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.RecV"><span class="id" title="constructor">RecV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:75"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e:77"><span class="id" title="variable">e</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:75"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e:77"><span class="id" title="variable">e</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Global Hint Extern</span> 0 (<a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV"><span class="id" title="class">AsRecV</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.RecV"><span class="id" title="constructor">RecV</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV_recv"><span class="id" title="definition">AsRecV_recv</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="pure_exec" class="idref" href="#pure_exec"><span class="id" title="section">pure_exec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_exec_safe</span> := <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_exec_puredet</span> := <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">inv_head_step</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_pure_exec</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">nsteps_once</span>, <span class="id" title="lemma">pure_head_step_pure_step</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">solve_exec_safe</span> | <span class="id" title="var">solve_exec_puredet</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_recc" class="idref" href="#pure_recc"><span class="id" title="instance">pure_recc</span></a> <a id="f:78" class="idref" href="#f:78"><span class="id" title="binder">f</span></a> <a id="x:79" class="idref" href="#x:79"><span class="id" title="binder">x</span></a> (<a id="erec:80" class="idref" href="#erec:80"><span class="id" title="binder">erec</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.expr"><span class="id" title="inductive">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Rec"><span class="id" title="constructor">Rec</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:78"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#erec:80"><span class="id" title="variable">erec</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.RecV"><span class="id" title="constructor">RecV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:78"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#erec:80"><span class="id" title="variable">erec</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_pairc" class="idref" href="#pure_pairc"><span class="id" title="instance">pure_pairc</span></a> (<a id="v1:81" class="idref" href="#v1:81"><span class="id" title="binder">v1</span></a> <a id="v2:82" class="idref" href="#v2:82"><span class="id" title="binder">v2</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.val"><span class="id" title="inductive">val</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Pair"><span class="id" title="constructor">Pair</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:81"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:82"><span class="id" title="variable">v2</span></a>)) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.PairV"><span class="id" title="constructor">PairV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:81"><span class="id" title="variable">v1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:82"><span class="id" title="variable">v2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_injlc" class="idref" href="#pure_injlc"><span class="id" title="instance">pure_injlc</span></a> (<a id="v:83" class="idref" href="#v:83"><span class="id" title="binder">v</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.val"><span class="id" title="inductive">val</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjL"><span class="id" title="constructor">InjL</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:83"><span class="id" title="variable">v</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjLV"><span class="id" title="constructor">InjLV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:83"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_injrc" class="idref" href="#pure_injrc"><span class="id" title="instance">pure_injrc</span></a> (<a id="v:84" class="idref" href="#v:84"><span class="id" title="binder">v</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.val"><span class="id" title="inductive">val</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjR"><span class="id" title="constructor">InjR</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:84"><span class="id" title="variable">v</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjRV"><span class="id" title="constructor">InjRV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:84"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_beta" class="idref" href="#pure_beta"><span class="id" title="instance">pure_beta</span></a> <a id="f:85" class="idref" href="#f:85"><span class="id" title="binder">f</span></a> <a id="x:86" class="idref" href="#x:86"><span class="id" title="binder">x</span></a> (<a id="erec:87" class="idref" href="#erec:87"><span class="id" title="binder">erec</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.expr"><span class="id" title="inductive">expr</span></a>) (<a id="v1:88" class="idref" href="#v1:88"><span class="id" title="binder">v1</span></a> <a id="v2:89" class="idref" href="#v2:89"><span class="id" title="binder">v2</span></a> : <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.val"><span class="id" title="inductive">val</span></a>) `{<a id="AsRecV0:90" class="idref" href="#AsRecV0:90"><span class="id" title="binder">!</span></a><a id="AsRecV0:90" class="idref" href="#AsRecV0:90"><span class="id" title="binder">AsRecV</span></a> <a id="AsRecV0:90" class="idref" href="#AsRecV0:90"><span class="id" title="binder">v1</span></a> <a id="AsRecV0:90" class="idref" href="#AsRecV0:90"><span class="id" title="binder">f</span></a> <a id="AsRecV0:90" class="idref" href="#AsRecV0:90"><span class="id" title="binder">x</span></a> <a id="AsRecV0:90" class="idref" href="#AsRecV0:90"><span class="id" title="binder">erec</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.App"><span class="id" title="constructor">App</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:88"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:89"><span class="id" title="variable">v2</span></a>)) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.subst'"><span class="id" title="definition">subst'</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#x:86"><span class="id" title="variable">x</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:89"><span class="id" title="variable">v2</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.subst'"><span class="id" title="definition">subst'</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#f:85"><span class="id" title="variable">f</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:88"><span class="id" title="variable">v1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#erec:87"><span class="id" title="variable">erec</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#AsRecV"><span class="id" title="class">AsRecV</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_unop" class="idref" href="#pure_unop"><span class="id" title="instance">pure_unop</span></a> <a id="op:91" class="idref" href="#op:91"><span class="id" title="binder">op</span></a> <a id="v:92" class="idref" href="#v:92"><span class="id" title="binder">v</span></a> <a id="v':93" class="idref" href="#v':93"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.un_op_eval"><span class="id" title="definition">un_op_eval</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#op:91"><span class="id" title="variable">op</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:92"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v':93"><span class="id" title="variable">v'</span></a>) 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.UnOp"><span class="id" title="constructor">UnOp</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#op:91"><span class="id" title="variable">op</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:92"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v':93"><span class="id" title="variable">v'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_binop" class="idref" href="#pure_binop"><span class="id" title="instance">pure_binop</span></a> <a id="op:94" class="idref" href="#op:94"><span class="id" title="binder">op</span></a> <a id="v1:95" class="idref" href="#v1:95"><span class="id" title="binder">v1</span></a> <a id="v2:96" class="idref" href="#v2:96"><span class="id" title="binder">v2</span></a> <a id="v':97" class="idref" href="#v':97"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.bin_op_eval"><span class="id" title="definition">bin_op_eval</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#op:94"><span class="id" title="variable">op</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:95"><span class="id" title="variable">v1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:96"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v':97"><span class="id" title="variable">v'</span></a>) 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#op:94"><span class="id" title="variable">op</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:95"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:96"><span class="id" title="variable">v2</span></a>)) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v':97"><span class="id" title="variable">v'</span></a>) | 10.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lower-cost&nbsp;instance&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">EqOp</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_eqop" class="idref" href="#pure_eqop"><span class="id" title="instance">pure_eqop</span></a> <a id="v1:98" class="idref" href="#v1:98"><span class="id" title="binder">v1</span></a> <a id="v2:99" class="idref" href="#v2:99"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.vals_compare_safe"><span class="id" title="definition">vals_compare_safe</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:98"><span class="id" title="variable">v1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:99"><span class="id" title="variable">v2</span></a>) 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.BinOp"><span class="id" title="constructor">BinOp</span></a> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.EqOp"><span class="id" title="constructor">EqOp</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:98"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:99"><span class="id" title="variable">v2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitV"><span class="id" title="constructor">LitV</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <span class="id" title="notation">$</span> <span class="id" title="definition">bool_decide</span> (<a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:98"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:99"><span class="id" title="variable">v2</span></a>)) | 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcompare</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.bin_op_eval"><span class="id" title="definition">bin_op_eval</span></a> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.EqOp"><span class="id" title="constructor">EqOp</span></a> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitV"><span class="id" title="constructor">LitV</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <span class="id" title="notation">$</span> <span class="id" title="definition">bool_decide</span> (<span class="id" title="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Hcompare</span>. <span class="id" title="var">solve_pure_exec</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.bin_op_eval"><span class="id" title="definition">bin_op_eval</span></a> /= <span class="id" title="lemma">decide_True</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_if_true" class="idref" href="#pure_if_true"><span class="id" title="instance">pure_if_true</span></a> <a id="e1:100" class="idref" href="#e1:100"><span class="id" title="binder">e1</span></a> <a id="e2:101" class="idref" href="#e2:101"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitV"><span class="id" title="constructor">LitV</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e1:100"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e2:101"><span class="id" title="variable">e2</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e1:100"><span class="id" title="variable">e1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_if_false" class="idref" href="#pure_if_false"><span class="id" title="instance">pure_if_false</span></a> <a id="e1:102" class="idref" href="#e1:102"><span class="id" title="binder">e1</span></a> <a id="e2:103" class="idref" href="#e2:103"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitV"><span class="id" title="constructor">LitV</span></a>  <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.LitBool"><span class="id" title="constructor">LitBool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e1:102"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e2:103"><span class="id" title="variable">e2</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e2:103"><span class="id" title="variable">e2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_fst" class="idref" href="#pure_fst"><span class="id" title="instance">pure_fst</span></a> <a id="v1:104" class="idref" href="#v1:104"><span class="id" title="binder">v1</span></a> <a id="v2:105" class="idref" href="#v2:105"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Fst"><span class="id" title="constructor">Fst</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.PairV"><span class="id" title="constructor">PairV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:104"><span class="id" title="variable">v1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:105"><span class="id" title="variable">v2</span></a>)) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:104"><span class="id" title="variable">v1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_snd" class="idref" href="#pure_snd"><span class="id" title="instance">pure_snd</span></a> <a id="v1:106" class="idref" href="#v1:106"><span class="id" title="binder">v1</span></a> <a id="v2:107" class="idref" href="#v2:107"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Snd"><span class="id" title="constructor">Snd</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.PairV"><span class="id" title="constructor">PairV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v1:106"><span class="id" title="variable">v1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:107"><span class="id" title="variable">v2</span></a>)) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v2:107"><span class="id" title="variable">v2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_case_inl" class="idref" href="#pure_case_inl"><span class="id" title="instance">pure_case_inl</span></a> <a id="v:108" class="idref" href="#v:108"><span class="id" title="binder">v</span></a> <a id="e1:109" class="idref" href="#e1:109"><span class="id" title="binder">e1</span></a> <a id="e2:110" class="idref" href="#e2:110"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Case"><span class="id" title="constructor">Case</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjLV"><span class="id" title="constructor">InjLV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:108"><span class="id" title="variable">v</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e1:109"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e2:110"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.App"><span class="id" title="constructor">App</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e1:109"><span class="id" title="variable">e1</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:108"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="pure_case_inr" class="idref" href="#pure_case_inr"><span class="id" title="instance">pure_case_inr</span></a> <a id="v:111" class="idref" href="#v:111"><span class="id" title="binder">v</span></a> <a id="e1:112" class="idref" href="#e1:112"><span class="id" title="binder">e1</span></a> <a id="e2:113" class="idref" href="#e2:113"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Case"><span class="id" title="constructor">Case</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="notation">$</span> <a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.InjRV"><span class="id" title="constructor">InjRV</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:111"><span class="id" title="variable">v</span></a>) <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e1:112"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e2:113"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.App"><span class="id" title="constructor">App</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#e2:113"><span class="id" title="variable">e2</span></a> (<a class="idref" href="WBLogic.heap_lang_trace.lang.html#heap_lang.Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#v:111"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="WBLogic.heap_lang_trace.class_instances.html#pure_exec"><span class="id" title="section">pure_exec</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
