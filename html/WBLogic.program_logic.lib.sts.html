<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../index.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">WBLogic.program_logic.lib.sts</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">auth</span> <span class="id" title="library">gmap</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">invariants</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">mra</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">proofmode</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">WBLogic.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#"><span class="id" title="library">ghost_stacks</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#"><span class="id" title="library">weakestpre</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="STS" class="idref" href="#STS"><span class="id" title="record">STS</span></a> := {<br/>
&nbsp;&nbsp;<a id="STS_state" class="idref" href="#STS_state"><span class="id" title="projection">STS_state</span></a> :&gt; <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="state_inh" class="idref" href="#state_inh"><span class="id" title="projection">state_inh</span></a> :: <span class="id" title="class">Inhabited</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_state:2"><span class="id" title="method">STS_state</span></a>;<br/>
&nbsp;&nbsp;<a id="pub_rel" class="idref" href="#pub_rel"><span class="id" title="projection">pub_rel</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_state:2"><span class="id" title="method">STS_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_state:2"><span class="id" title="method">STS_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;<a id="pri_rel" class="idref" href="#pri_rel"><span class="id" title="projection">pri_rel</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_state:2"><span class="id" title="method">STS_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_state:2"><span class="id" title="method">STS_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;<a id="pub_rel_po" class="idref" href="#pub_rel_po"><span class="id" title="projection">pub_rel_po</span></a> :: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#pub_rel:4"><span class="id" title="method">pub_rel</span></a>;<br/>
&nbsp;&nbsp;<a id="pri_rel_po" class="idref" href="#pri_rel_po"><span class="id" title="projection">pri_rel_po</span></a> :: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#pri_rel:5"><span class="id" title="method">pri_rel</span></a>;<br/>
&nbsp;&nbsp;<a id="pub_pri_incl" class="idref" href="#pub_pri_incl"><span class="id" title="projection">pub_pri_incl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="s:8" class="idref" href="#s:8"><span class="id" title="binder">s</span></a> <a id="s':9" class="idref" href="#s':9"><span class="id" title="binder">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#pub_rel:4"><span class="id" title="method">pub_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#s:8"><span class="id" title="variable">s</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#s':9"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#pri_rel:5"><span class="id" title="method">pri_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#s:8"><span class="id" title="variable">s</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#s':9"><span class="id" title="variable">s'</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="STSUR" class="idref" href="#STSUR"><span class="id" title="definition">STSUR</span></a> (<a id="S:11" class="idref" href="#S:11"><span class="id" title="binder">S</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS"><span class="id" title="record">STS</span></a>) := <span class="id" title="definition">authUR</span> (<span class="id" title="definition">mraUR</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#pub_rel"><span class="id" title="projection">pub_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#S:11"><span class="id" title="variable">S</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="db44263936e9600746371a849fc4771f" class="idref" href="#db44263936e9600746371a849fc4771f"><span class="id" title="definition">STSΣ</span></a> <a id="S:12" class="idref" href="#S:12"><span class="id" title="binder">S</span></a> : <span class="id" title="record">gFunctors</span> := <span class="id" title="notation">#[</span><span class="id" title="constructor">GFunctor</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#STSUR"><span class="id" title="definition">STSUR</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#S:12"><span class="id" title="variable">S</span></a>)<span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="f384e50de591042a7cce715a34351aab" class="idref" href="#f384e50de591042a7cce715a34351aab"><span class="id" title="instance">subG_STSΣ_ing</span></a> <a id="S:13" class="idref" href="#S:13"><span class="id" title="binder">S</span></a> <a id="08441172cd4c14450ee9e66c55932a87" class="idref" href="#08441172cd4c14450ee9e66c55932a87"><span class="id" title="binder">Σ</span></a> : <span class="id" title="class">subG</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#db44263936e9600746371a849fc4771f"><span class="id" title="definition">STSΣ</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#S:13"><span class="id" title="variable">S</span></a>) <a class="idref" href="WBLogic.program_logic.lib.sts.html#08441172cd4c14450ee9e66c55932a87"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="class">inG</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#08441172cd4c14450ee9e66c55932a87"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#STSUR"><span class="id" title="definition">STSUR</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#S:13"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_inG</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="STS" class="idref" href="#STS"><span class="id" title="section">STS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="S:15" class="idref" href="#S:15"><span class="id" title="binder">S</span></a>} `{<a id="irisGS0:18" class="idref" href="#irisGS0:18"><span class="id" title="binder">!</span></a><a id="irisGS0:18" class="idref" href="#irisGS0:18"><span class="id" title="binder">irisGS</span></a> <a id="7335d15d594e824cb70f22daceb62b15" class="idref" href="#7335d15d594e824cb70f22daceb62b15"><span class="id" title="binder"><span id="irisGS0:18" class="id">Λ</span></span></a> <a id="9e57768f7d1333d5d23f870b726fb0dd" class="idref" href="#9e57768f7d1333d5d23f870b726fb0dd"><span class="id" title="binder"><span id="irisGS0:18" class="id">Σ</span></span></a>, <a id="inG0:19" class="idref" href="#inG0:19"><span class="id" title="binder">!</span></a><a id="inG0:19" class="idref" href="#inG0:19"><span class="id" title="binder">inG</span></a> <a id="inG0:19" class="idref" href="#inG0:19"><span class="id" title="binder">Σ</span></a> <a id="inG0:19" class="idref" href="#inG0:19"><span class="id" title="binder">(</span></a><a id="inG0:19" class="idref" href="#inG0:19"><span class="id" title="binder">STSUR</span></a> <a id="inG0:19" class="idref" href="#inG0:19"><span class="id" title="binder">S</span></a><a id="inG0:19" class="idref" href="#inG0:19"><span class="id" title="binder">)</span></a>, <a id="gstacksIG0:20" class="idref" href="#gstacksIG0:20"><span class="id" title="binder">!</span></a><a id="gstacksIG0:20" class="idref" href="#gstacksIG0:20"><span class="id" title="binder">gstacksIG</span></a> <a id="gstacksIG0:20" class="idref" href="#gstacksIG0:20"><span class="id" title="binder">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sts_config" class="idref" href="#sts_config"><span class="id" title="definition">sts_config</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack"><span class="id" title="definition">gstack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="state_of" class="idref" href="#state_of"><span class="id" title="definition">state_of</span></a> (<a id="sc:21" class="idref" href="#sc:21"><span class="id" title="binder">sc</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config"><span class="id" title="definition">sts_config</span></a>) : <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> := <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:21"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.2</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="related_public" class="idref" href="#related_public"><span class="id" title="definition">related_public</span></a> (<a id="sc:22" class="idref" href="#sc:22"><span class="id" title="binder">sc</span></a> <a id="sc':23" class="idref" href="#sc':23"><span class="id" title="binder">sc'</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config"><span class="id" title="definition">sts_config</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#c28cb00cf4882fe59018b9831ff4abd1"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:22"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':23"><span class="id" title="variable">sc'</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#pub_rel"><span class="id" title="projection">pub_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:22"><span class="id" title="variable">sc</span></a>) (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':23"><span class="id" title="variable">sc'</span></a>)<span class="id" title="notation">⌝</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="related_private" class="idref" href="#related_private"><span class="id" title="definition">related_private</span></a> (<a id="sc:24" class="idref" href="#sc:24"><span class="id" title="binder">sc</span></a> <a id="sc':25" class="idref" href="#sc':25"><span class="id" title="binder">sc'</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config"><span class="id" title="definition">sts_config</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#c28cb00cf4882fe59018b9831ff4abd1"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="0e451f67eb5d50008e3b791d7d607061" class="idref" href="#0e451f67eb5d50008e3b791d7d607061"><span class="id" title="binder">γ</span></a> <a id="15da4bf11575cfd576534aea7ba8456b" class="idref" href="#15da4bf11575cfd576534aea7ba8456b"><span class="id" title="binder">γ'</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':25"><span class="id" title="variable">sc'</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gpush"><span class="id" title="definition">gpush</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#15da4bf11575cfd576534aea7ba8456b"><span class="id" title="variable">γ'</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:24"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gtop"><span class="id" title="definition">gtop</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:24"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#0e451f67eb5d50008e3b791d7d607061"><span class="id" title="variable">γ</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">own</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#0e451f67eb5d50008e3b791d7d607061"><span class="id" title="variable">γ</span></a> (<span class="id" title="notation">●</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_mra</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:24"><span class="id" title="variable">sc</span></a>)<span class="id" title="notation">)</span>) <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#pri_rel"><span class="id" title="projection">pri_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:24"><span class="id" title="variable">sc</span></a>) (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':25"><span class="id" title="variable">sc'</span></a>)<span class="id" title="notation">⌝</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="STS_inv_name" class="idref" href="#STS_inv_name"><span class="id" title="definition">STS_inv_name</span></a> (<a id="N:28" class="idref" href="#N:28"><span class="id" title="binder">N</span></a> : <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#ghost_id"><span class="id" title="definition">ghost_id</span></a>) := <span class="id" title="definition">nroot</span><span class="id" title="notation">.@</span>"gstack"<span class="id" title="notation">.@</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#N:28"><span class="id" title="variable">N</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sts_config_frag" class="idref" href="#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a id="N:29" class="idref" href="#N:29"><span class="id" title="binder">N</span></a> (<a id="sc:30" class="idref" href="#sc:30"><span class="id" title="binder">sc</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config"><span class="id" title="definition">sts_config</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#c28cb00cf4882fe59018b9831ff4abd1"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="a853a41fd649f9e1dd72697a24ad55c5" class="idref" href="#a853a41fd649f9e1dd72697a24ad55c5"><span class="id" title="binder">γ</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_full"><span class="id" title="definition">gstack_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:29"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:30"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.1</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gtop"><span class="id" title="definition">gtop</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:30"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#a853a41fd649f9e1dd72697a24ad55c5"><span class="id" title="variable">γ</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <span class="id" title="definition">own</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#a853a41fd649f9e1dd72697a24ad55c5"><span class="id" title="variable">γ</span></a> (<span class="id" title="notation">◯</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_mra</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:30"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">)</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sts_config_full" class="idref" href="#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a id="N:32" class="idref" href="#N:32"><span class="id" title="binder">N</span></a> (<a id="sc:33" class="idref" href="#sc:33"><span class="id" title="binder">sc</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config"><span class="id" title="definition">sts_config</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#c28cb00cf4882fe59018b9831ff4abd1"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">∃</span> <a id="f52e3e0661b17433be07541b4dc03c4a" class="idref" href="#f52e3e0661b17433be07541b4dc03c4a"><span class="id" title="binder">γ</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_frag"><span class="id" title="definition">gstack_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:32"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:33"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.1</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gtop"><span class="id" title="definition">gtop</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:33"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#f52e3e0661b17433be07541b4dc03c4a"><span class="id" title="variable">γ</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <span class="id" title="definition">own</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#f52e3e0661b17433be07541b4dc03c4a"><span class="id" title="variable">γ</span></a> (<span class="id" title="notation">●</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_mra</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:33"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">)</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="STS_inv" class="idref" href="#STS_inv"><span class="id" title="definition">STS_inv</span></a> (<a id="N:35" class="idref" href="#N:35"><span class="id" title="binder">N</span></a> : <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#ghost_id"><span class="id" title="definition">ghost_id</span></a>) (<a id="P:36" class="idref" href="#P:36"><span class="id" title="binder">P</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#c28cb00cf4882fe59018b9831ff4abd1"><span class="id" title="variable">Σ</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#c28cb00cf4882fe59018b9831ff4abd1"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">inv</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_inv_name"><span class="id" title="definition">STS_inv_name</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:35"><span class="id" title="variable">N</span></a>) (<span class="id" title="notation">∃</span> <a id="sc:37" class="idref" href="#sc:37"><span class="id" title="binder">sc</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:35"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:37"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#P:36"><span class="id" title="variable">P</span></a> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:37"><span class="id" title="variable">sc</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sts_configs_update_frag" class="idref" href="#sts_configs_update_frag"><span class="id" title="lemma">sts_configs_update_frag</span></a> <a id="N:38" class="idref" href="#N:38"><span class="id" title="binder">N</span></a> <a id="sc:39" class="idref" href="#sc:39"><span class="id" title="binder">sc</span></a> <a id="sc':40" class="idref" href="#sc':40"><span class="id" title="binder">sc'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:38"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:39"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:38"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':40"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">==∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:38"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:39"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:38"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:39"><span class="id" title="variable">sc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (?) "(Hstfr &amp; % &amp; Hprfl)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (?) "(Hstfl &amp; % &amp; Hprfr)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstacks_agree"><span class="id" title="lemma">gstacks_agree</span></a> <span class="id" title="notation">with</span> "Hstfl Hstfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sc'</span>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_valid_2</span> <span class="id" title="notation">with</span> "Hprfl Hprfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %[<span class="id" title="var">Hincl</span> ?]%<span class="id" title="lemma">auth_both_valid_discrete</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">to_mra_included</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iClear</span> "Hprfr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_update</span> <span class="id" title="notation">with</span> "Hprfl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprfl Hprfr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_update_alloc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">mra_local_update_grow</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hstfr Hprfl"; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sts_configs_pub_related" class="idref" href="#sts_configs_pub_related"><span class="id" title="lemma">sts_configs_pub_related</span></a> <a id="N:41" class="idref" href="#N:41"><span class="id" title="binder">N</span></a> <a id="sc:42" class="idref" href="#sc:42"><span class="id" title="binder">sc</span></a> <a id="sc':43" class="idref" href="#sc':43"><span class="id" title="binder">sc'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:41"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:42"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:41"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':43"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':43"><span class="id" title="variable">sc'</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:42"><span class="id" title="variable">sc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (?) "(Hstfr &amp; % &amp; Hprfl)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (?) "(Hstfl &amp; % &amp; Hprfr)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstacks_agree"><span class="id" title="lemma">gstacks_agree</span></a> <span class="id" title="notation">with</span> "Hstfl Hstfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sc'</span>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_valid_2</span> <span class="id" title="notation">with</span> "Hprfl Hprfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %[<span class="id" title="var">Hincl</span> ?]%<span class="id" title="lemma">auth_both_valid_discrete</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">to_mra_included</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="related_private_public" class="idref" href="#related_private_public"><span class="id" title="lemma">related_private_public</span></a> <a id="sc:44" class="idref" href="#sc:44"><span class="id" title="binder">sc</span></a> <a id="sc':45" class="idref" href="#sc':45"><span class="id" title="binder">sc'</span></a> <a id="sc'':46" class="idref" href="#sc'':46"><span class="id" title="binder">sc''</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#related_private"><span class="id" title="definition">related_private</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:44"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':45"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':45"><span class="id" title="variable">sc'</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc'':46"><span class="id" title="variable">sc''</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_private"><span class="id" title="definition">related_private</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:44"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc'':46"><span class="id" title="variable">sc''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sc</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sc'</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sc''</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (? ?) "(%&amp;%&amp; HPrfl &amp;%)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[% %]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#pub_pri_incl"><span class="id" title="projection">pub_pri_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="related_public_trans" class="idref" href="#related_public_trans"><span class="id" title="lemma">related_public_trans</span></a> <a id="sc:47" class="idref" href="#sc:47"><span class="id" title="binder">sc</span></a> <a id="sc':48" class="idref" href="#sc':48"><span class="id" title="binder">sc'</span></a> <a id="sc'':49" class="idref" href="#sc'':49"><span class="id" title="binder">sc''</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:47"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':48"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':48"><span class="id" title="variable">sc'</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc'':49"><span class="id" title="variable">sc''</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:47"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc'':49"><span class="id" title="variable">sc''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sc</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sc'</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sc''</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[% %] [% %]"; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="var">iSplit</span>; <span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="related_public_states" class="idref" href="#related_public_states"><span class="id" title="lemma">related_public_states</span></a> <a id="sc:50" class="idref" href="#sc:50"><span class="id" title="binder">sc</span></a> <a id="sc':51" class="idref" href="#sc':51"><span class="id" title="binder">sc'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:50"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':51"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">⊢</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#pub_rel"><span class="id" title="projection">pub_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:50"><span class="id" title="variable">sc</span></a>) (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':51"><span class="id" title="variable">sc'</span></a>)<span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[% %]"; <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sts_make_public_trans" class="idref" href="#sts_make_public_trans"><span class="id" title="lemma">sts_make_public_trans</span></a> <a id="N:52" class="idref" href="#N:52"><span class="id" title="binder">N</span></a> <a id="sc:53" class="idref" href="#sc:53"><span class="id" title="binder">sc</span></a> <a id="s':54" class="idref" href="#s':54"><span class="id" title="binder">s'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#pub_rel"><span class="id" title="projection">pub_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:53"><span class="id" title="variable">sc</span></a>) <a class="idref" href="WBLogic.program_logic.lib.sts.html#s':54"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:52"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:53"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:52"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:53"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">==∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="sc':55" class="idref" href="#sc':55"><span class="id" title="binder">sc'</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:53"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':55"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':55"><span class="id" title="variable">sc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#s':54"><span class="id" title="variable">s'</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:52"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':55"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:52"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':55"><span class="id" title="variable">sc'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sc</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">s</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γ</span>) "(Hfl &amp; % &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γ'</span>) "(Hfr &amp; % &amp; HPrfl)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_update</span> <span class="id" title="notation">with</span> "HPrfl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HPrfl HPrfr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_update_alloc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">mra_local_update_grow</span>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iExists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hfl HPrfr"; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sts_make_private_trans" class="idref" href="#sts_make_private_trans"><span class="id" title="lemma">sts_make_private_trans</span></a> <a id="N:56" class="idref" href="#N:56"><span class="id" title="binder">N</span></a> <a id="sc:57" class="idref" href="#sc:57"><span class="id" title="binder">sc</span></a> <a id="s':58" class="idref" href="#s':58"><span class="id" title="binder">s'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#pri_rel"><span class="id" title="projection">pri_rel</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:57"><span class="id" title="variable">sc</span></a>) <a class="idref" href="WBLogic.program_logic.lib.sts.html#s':58"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:56"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:57"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:56"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:57"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">==∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="sc':59" class="idref" href="#sc':59"><span class="id" title="binder">sc'</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_private"><span class="id" title="definition">related_private</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:57"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':59"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#state_of"><span class="id" title="definition">state_of</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':59"><span class="id" title="variable">sc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#s':58"><span class="id" title="variable">s'</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:56"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':59"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:56"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':59"><span class="id" title="variable">sc'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sc</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">s</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γ</span>) "(Hfl &amp; Htop &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Htop" <span class="id" title="keyword">as</span> %[? ?]%<a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gtop_inv"><span class="id" title="lemma">gtop_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γ'</span>) "(Hfr &amp; % &amp; HPrfl)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">own_alloc</span> (<span class="id" title="notation">●</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_mra</span> <span class="id" title="var">s'</span><span class="id" title="notation">)</span> <span class="id" title="notation">⋅</span> <span class="id" title="notation">◯</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_mra</span> <span class="id" title="var">s'</span><span class="id" title="notation">)</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">γ''</span>) "[HPrfl' HPrfr]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_both_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_push"><span class="id" title="lemma">gstack_push</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">γ''</span> <span class="id" title="notation">with</span> "Hfl Hfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hfl Hfr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iExists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HPrfl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hfl HPrfr"; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sts_make_undo_private_trans" class="idref" href="#sts_make_undo_private_trans"><span class="id" title="lemma">sts_make_undo_private_trans</span></a> <a id="N:60" class="idref" href="#N:60"><span class="id" title="binder">N</span></a> <a id="sc:61" class="idref" href="#sc:61"><span class="id" title="binder">sc</span></a> <a id="sc':62" class="idref" href="#sc':62"><span class="id" title="binder">sc'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#related_private"><span class="id" title="definition">related_private</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:61"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':62"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:60"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':62"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:60"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':62"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">==∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:60"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:61"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:60"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:61"><span class="id" title="variable">sc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sc</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">s</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sc'</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">s'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (? ?) "(% &amp; % &amp; HPrfl &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γ1</span>) "(Hfl &amp; Htop &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Htop" <span class="id" title="keyword">as</span> %[? ?]%<a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gtop_inv"><span class="id" title="lemma">gtop_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γ2</span>) "(Hfr &amp; % &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_pop"><span class="id" title="lemma">gstack_pop</span></a> <span class="id" title="notation">with</span> "Hfl Hfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hfl Hfr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_update</span> <span class="id" title="notation">with</span> "HPrfl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HPrfl HPrfr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_update_alloc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">mra_local_update_grow</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HPrfr Hfl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="make_STS" class="idref" href="#make_STS"><span class="id" title="lemma">make_STS</span></a> {<a id="E:63" class="idref" href="#E:63"><span class="id" title="binder">E</span></a> <a id="N:64" class="idref" href="#N:64"><span class="id" title="binder">N</span></a>} (<a id="s:65" class="idref" href="#s:65"><span class="id" title="binder">s</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a>) (<a id="P:66" class="idref" href="#P:66"><span class="id" title="binder">P</span></a> : <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#c28cb00cf4882fe59018b9831ff4abd1"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#P:66"><span class="id" title="variable">P</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#s:65"><span class="id" title="variable">s</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_full"><span class="id" title="definition">gstack_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:64"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_frag"><span class="id" title="definition">gstack_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:64"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="notation">-∗</span> <span class="id" title="notation">|={</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#E:63"><span class="id" title="variable">E</span></a><span class="id" title="notation">}=&gt;</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_inv"><span class="id" title="definition">STS_inv</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:64"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#P:66"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">∃</span> <a id="stk:67" class="idref" href="#stk:67"><span class="id" title="binder">stk</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_full"><span class="id" title="definition">gstack_full</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:64"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#stk:67"><span class="id" title="variable">stk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HP Hfl Hfr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">own_alloc</span> (<span class="id" title="notation">●</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_mra</span> <span class="id" title="var">s</span><span class="id" title="notation">)</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">γ</span>) "Hs"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_auth_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_push"><span class="id" title="lemma">gstack_push</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">γ</span> <span class="id" title="notation">with</span> "Hfl Hfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hfl Hfr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">inv_alloc</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_inv_name"><span class="id" title="definition">STS_inv_name</span></a> <span class="id" title="var">N</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">∃</span> <a id="sc:68" class="idref" href="#sc:68"><span class="id" title="binder"><span id="sc:69" class="id">sc</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_full"><span class="id" title="definition">sts_config_full</span></a> <span class="id" title="var">N</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:68"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">∗</span> <span class="id" title="var">P</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:68"><span class="id" title="variable">sc</span></a><span class="id" title="notation">.2</span>)%<span class="id" title="var">I</span> <span class="id" title="notation">with</span> "[- Hfl]"<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="var">iExists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iFrame</span> "HP Hfr". <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span> "#".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wbwp_sts_get_state" class="idref" href="#wbwp_sts_get_state"><span class="id" title="lemma">wbwp_sts_get_state</span></a> <a id="E:70" class="idref" href="#E:70"><span class="id" title="binder">E</span></a> <a id="N:71" class="idref" href="#N:71"><span class="id" title="binder">N</span></a> <a id="P:72" class="idref" href="#P:72"><span class="id" title="binder">P</span></a> <a id="out:73" class="idref" href="#out:73"><span class="id" title="binder">out</span></a> <a id="e:74" class="idref" href="#e:74"><span class="id" title="binder">e</span></a> <a id="55a363c26a6fcf2d71bcdfc5ad742b27" class="idref" href="#55a363c26a6fcf2d71bcdfc5ad742b27"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">↑(</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_inv_name"><span class="id" title="definition">STS_inv_name</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:71"><span class="id" title="variable">N</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#E:70"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#N:71"><span class="id" title="variable">N</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#out:73"><span class="id" title="variable">out</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_inv"><span class="id" title="definition">STS_inv</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:71"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#P:72"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∀</span> <a id="sc:76" class="idref" href="#sc:76"><span class="id" title="binder">sc</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:71"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:76"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#e:74"><span class="id" title="variable">e</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">(</span></a><a class="idref" href="WBLogic.program_logic.lib.sts.html#out:73"><span class="id" title="variable">out</span></a> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#N:71"><span class="id" title="variable">N</span></a><span class="id" title="notation">]}</span><a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">);</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#E:70"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">{{</span></a><a id="v:77" class="idref" href="#v:77"><span class="id" title="binder">v</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">,</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#55a363c26a6fcf2d71bcdfc5ad742b27"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#v:77"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">∃</span> <a id="sc':78" class="idref" href="#sc':78"><span class="id" title="binder">sc'</span></a><span class="id" title="notation">,</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:71"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':78"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#related_public"><span class="id" title="definition">related_public</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:76"><span class="id" title="variable">sc</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc':78"><span class="id" title="variable">sc'</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#e:74"><span class="id" title="variable">e</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#out:73"><span class="id" title="variable">out</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">;</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#E:70"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">{{</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#55a363c26a6fcf2d71bcdfc5ad742b27"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (? ?) "#Hinv HWBWP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<span class="id" title="notation">|={</span><span class="id" title="var">E</span><span class="id" title="notation">}=&gt;</span> <a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_exists"><span class="id" title="definition">gstack_exists</span></a> <span class="id" title="var">N</span>)%<span class="id" title="var">I</span> <span class="id" title="keyword">as</span> "&gt;#Hex".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iInv</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_inv_name"><span class="id" title="definition">STS_inv_name</span></a> <span class="id" title="var">N</span>) <span class="id" title="keyword">as</span> (?) "[&gt;Hfl ?]". <span class="id" title="var">iDestruct</span> "Hfl" <span class="id" title="keyword">as</span> (?) "(? &amp; ?)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstack_frag_exists"><span class="id" title="lemma">gstack_frag_exists</span></a> <span class="id" title="notation">with</span> "[$]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "#?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iSplitL</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>. <span class="id" title="var">iNext</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.weakestpre.html#wbwp_get_gstack_full"><span class="id" title="lemma">wbwp_get_gstack_full</span></a> <span class="id" title="notation">with</span> "[$] [HWBWP]"<span class="id" title="notation">)</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">stk</span>) "Hfl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="WBLogic.program_logic.weakestpre.html#fupd_wbwp"><span class="id" title="lemma">fupd_wbwp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> (<a class="idref" href="WBLogic.program_logic.lib.sts.html#STS_inv_name"><span class="id" title="definition">STS_inv_name</span></a> <span class="id" title="var">N</span>) <span class="id" title="keyword">as</span> (?) "(&gt;Hscfl &amp; Hrest)" "Hcl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hscfl" <span class="id" title="keyword">as</span> (?) "(Hfr &amp; % &amp; Hstsfl)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.ghost_stacks.html#gstacks_agree"><span class="id" title="lemma">gstacks_agree</span></a> <span class="id" title="notation">with</span> "Hfl Hfr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %?; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_update</span> <span class="id" title="notation">with</span> "Hstsfl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hstsfl Hstsfr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_update_alloc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">mra_local_update_grow</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span>"Hcl" <span class="id" title="notation">with</span> "[Hfr Hrest Hstsfl]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.weakestpre.html#wbwp_wand"><span class="id" title="lemma">wbwp_wand</span></a> <span class="id" title="notation">with</span> "[-]"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span>"HWBWP" <span class="id" title="notation">$!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">w</span>) "[$ Hsc']".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hsc'" <span class="id" title="keyword">as</span> ([]) "[Hsc' [% %]]"; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hsc'" <span class="id" title="keyword">as</span> (?) "[$ ?]".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wbwp_sts_mend" class="idref" href="#wbwp_sts_mend"><span class="id" title="lemma">wbwp_sts_mend</span></a> <a id="N:79" class="idref" href="#N:79"><span class="id" title="binder">N</span></a> <a id="sc:80" class="idref" href="#sc:80"><span class="id" title="binder">sc</span></a> <a id="E:81" class="idref" href="#E:81"><span class="id" title="binder">E</span></a> <a id="out:82" class="idref" href="#out:82"><span class="id" title="binder">out</span></a> <a id="e:83" class="idref" href="#e:83"><span class="id" title="binder">e</span></a> <a id="310360860ff83e40e0e11299ab1f4905" class="idref" href="#310360860ff83e40e0e11299ab1f4905"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:79"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:80"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#e:83"><span class="id" title="variable">e</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#out:82"><span class="id" title="variable">out</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="WBLogic.program_logic.lib.sts.html#N:79"><span class="id" title="variable">N</span></a><span class="id" title="notation">]}</span><a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">;</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#E:81"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">{{</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#310360860ff83e40e0e11299ab1f4905"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#e:83"><span class="id" title="variable">e</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#out:82"><span class="id" title="variable">out</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">;</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#E:81"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">{{</span></a><a id="v:85" class="idref" href="#v:85"><span class="id" title="binder">v</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">,</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config_frag"><span class="id" title="definition">sts_config_frag</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#N:79"><span class="id" title="variable">N</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sc:80"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#310360860ff83e40e0e11299ab1f4905"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.lib.sts.html#v:85"><span class="id" title="variable">v</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#0e94461d641dcf3403e79b3abed679d5"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hfl HWBWP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hfl" <span class="id" title="keyword">as</span> (<span class="id" title="var">γ</span>) "(Hfl&amp;%&amp;?)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.weakestpre.html#wbwp_wand"><span class="id" title="lemma">wbwp_wand</span></a> <span class="id" title="notation">with</span> "[Hfl HWBWP]"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="WBLogic.program_logic.weakestpre.html#wbwp_mend"><span class="id" title="lemma">wbwp_mend</span></a> <span class="id" title="notation">with</span> "Hfl HWBWP"<span class="id" title="notation">)</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "[? $]"; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#STS"><span class="id" title="section">STS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="WBLogic.program_logic.lib.sts.html#sts_config"><span class="id" title="definition">sts_config</span></a> <span class="id" title="var">_</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
