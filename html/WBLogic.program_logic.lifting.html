<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../index.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">WBLogic.program_logic.lifting</h1>

<div class="code">
</div>

<div class="doc">
This file has been taken from iris and edited accordingly.  The "lifting lemmas" in this file serve to lift the rules of the operational
semantics to the program logic. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">proofmode</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">lifting</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">WBLogic.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="WBLogic.program_logic.weakestpre.html#"><span class="id" title="library">weakestpre</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">options</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="lifting" class="idref" href="#lifting"><span class="id" title="section">lifting</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a id="irisGS0:3" class="idref" href="#irisGS0:3"><span class="id" title="binder">!</span></a><a id="irisGS0:3" class="idref" href="#irisGS0:3"><span class="id" title="binder">irisGS</span></a> <a id="aed330fafc52497700df4a17b24e754e" class="idref" href="#aed330fafc52497700df4a17b24e754e"><span class="id" title="binder"><span id="irisGS0:3" class="id">Λ</span></span></a> <a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder"><span id="irisGS0:3" class="id">Σ</span></span></a>, <a id="gstacksIG0:4" class="idref" href="#gstacksIG0:4"><span class="id" title="binder">!</span></a><a id="gstacksIG0:4" class="idref" href="#gstacksIG0:4"><span class="id" title="binder">gstacksIG</span></a> <a id="gstacksIG0:4" class="idref" href="#gstacksIG0:4"><span class="id" title="binder">Σ</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <span class="id" title="projection">val</span> <a class="idref" href="WBLogic.program_logic.lifting.html#3def797c05cb7883194c3cf77b0c5fc3"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <span class="id" title="projection">expr</span> <a class="idref" href="WBLogic.program_logic.lifting.html#3def797c05cb7883194c3cf77b0c5fc3"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> σ : <span class="id" title="projection">state</span> <a class="idref" href="WBLogic.program_logic.lifting.html#3def797c05cb7883194c3cf77b0c5fc3"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lifting.html#3f5501ec6239ef23d42bb010db261e47"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <span class="id" title="projection">val</span> <a class="idref" href="WBLogic.program_logic.lifting.html#3def797c05cb7883194c3cf77b0c5fc3"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">iProp</span> <a class="idref" href="WBLogic.program_logic.lifting.html#3f5501ec6239ef23d42bb010db261e47"><span class="id" title="variable">Σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wbwp_pure_step_fupd" class="idref" href="#wbwp_pure_step_fupd"><span class="id" title="lemma">wbwp_pure_step_fupd</span></a> `{<a id="Inhabited0:5" class="idref" href="#Inhabited0:5"><span class="id" title="binder">!</span></a><a id="Inhabited0:5" class="idref" href="#Inhabited0:5"><span class="id" title="binder">Inhabited</span></a> <a id="Inhabited0:5" class="idref" href="#Inhabited0:5"><span class="id" title="binder">(</span></a><a id="Inhabited0:5" class="idref" href="#Inhabited0:5"><span class="id" title="binder">state</span></a> <a id="Inhabited0:5" class="idref" href="#Inhabited0:5"><span class="id" title="binder">Λ</span></a><a id="Inhabited0:5" class="idref" href="#Inhabited0:5"><span class="id" title="binder">)</span></a>} <a id="E:6" class="idref" href="#E:6"><span class="id" title="binder">E</span></a> <a id="E':7" class="idref" href="#E':7"><span class="id" title="binder">E'</span></a> <a id="out:8" class="idref" href="#out:8"><span class="id" title="binder">out</span></a> <a id="e1:9" class="idref" href="#e1:9"><span class="id" title="binder">e1</span></a> <a id="e2:10" class="idref" href="#e2:10"><span class="id" title="binder">e2</span></a> <a id="e6d4c98ae473993ff04763d655d26b6f" class="idref" href="#e6d4c98ae473993ff04763d655d26b6f"><span class="id" title="binder">φ</span></a> <a id="n:12" class="idref" href="#n:12"><span class="id" title="binder">n</span></a> <a id="88e16403a2e8c3584cb2b35950a575fb" class="idref" href="#88e16403a2e8c3584cb2b35950a575fb"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <a class="idref" href="WBLogic.program_logic.lifting.html#e6d4c98ae473993ff04763d655d26b6f"><span class="id" title="variable">φ</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#n:12"><span class="id" title="variable">n</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e1:9"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e2:10"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lifting.html#e6d4c98ae473993ff04763d655d26b6f"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">|={</span><a class="idref" href="WBLogic.program_logic.lifting.html#E:6"><span class="id" title="variable">E</span></a><span class="id" title="notation">}[</span><a class="idref" href="WBLogic.program_logic.lifting.html#E':7"><span class="id" title="variable">E'</span></a><span class="id" title="notation">]▷=&gt;^</span><a class="idref" href="WBLogic.program_logic.lifting.html#n:12"><span class="id" title="variable">n</span></a> <span class="id" title="notation">£</span> <a class="idref" href="WBLogic.program_logic.lifting.html#n:12"><span class="id" title="variable">n</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e2:10"><span class="id" title="variable">e2</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#out:8"><span class="id" title="variable">out</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">;</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#E:6"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">{{</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#88e16403a2e8c3584cb2b35950a575fb"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e1:9"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#out:8"><span class="id" title="variable">out</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">;</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#E:6"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">{{</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#88e16403a2e8c3584cb2b35950a575fb"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="WBLogic.program_logic.weakestpre.html#wbwp"><span class="id" title="definition">wbwp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hexec</span> <span class="id" title="var">H</span>φ) "Hwp".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">M</span>) "HM".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">wp_pure_step_fupd</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">step_fupdN_wand</span> <span class="id" title="notation">with</span> "Hwp"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <span class="id" title="notation">(</span>"Hwp" <span class="id" title="notation">with</span> "H HM"<span class="id" title="notation">)</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wbwp_pure_step_later" class="idref" href="#wbwp_pure_step_later"><span class="id" title="lemma">wbwp_pure_step_later</span></a> `{<a id="Inhabited0:14" class="idref" href="#Inhabited0:14"><span class="id" title="binder">!</span></a><a id="Inhabited0:14" class="idref" href="#Inhabited0:14"><span class="id" title="binder">Inhabited</span></a> <a id="Inhabited0:14" class="idref" href="#Inhabited0:14"><span class="id" title="binder">(</span></a><a id="Inhabited0:14" class="idref" href="#Inhabited0:14"><span class="id" title="binder">state</span></a> <a id="Inhabited0:14" class="idref" href="#Inhabited0:14"><span class="id" title="binder">Λ</span></a><a id="Inhabited0:14" class="idref" href="#Inhabited0:14"><span class="id" title="binder">)</span></a>} <a id="E:15" class="idref" href="#E:15"><span class="id" title="binder">E</span></a> <a id="out:16" class="idref" href="#out:16"><span class="id" title="binder">out</span></a> <a id="e1:17" class="idref" href="#e1:17"><span class="id" title="binder">e1</span></a> <a id="e2:18" class="idref" href="#e2:18"><span class="id" title="binder">e2</span></a> <a id="811db5421995400350703bd290e285cb" class="idref" href="#811db5421995400350703bd290e285cb"><span class="id" title="binder">φ</span></a> <a id="n:20" class="idref" href="#n:20"><span class="id" title="binder">n</span></a> <a id="ead8a4e0181169e465090bd4715a840c" class="idref" href="#ead8a4e0181169e465090bd4715a840c"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <a class="idref" href="WBLogic.program_logic.lifting.html#811db5421995400350703bd290e285cb"><span class="id" title="variable">φ</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#n:20"><span class="id" title="variable">n</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e1:17"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e2:18"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="WBLogic.program_logic.lifting.html#811db5421995400350703bd290e285cb"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">▷^</span><a class="idref" href="WBLogic.program_logic.lifting.html#n:20"><span class="id" title="variable">n</span></a> <span class="id" title="notation">(</span><span class="id" title="notation">£</span> <a class="idref" href="WBLogic.program_logic.lifting.html#n:20"><span class="id" title="variable">n</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e2:18"><span class="id" title="variable">e2</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#out:16"><span class="id" title="variable">out</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">;</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#E:15"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">{{</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#ead8a4e0181169e465090bd4715a840c"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊢</span> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">WBWP</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#e1:17"><span class="id" title="variable">e1</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">@</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#out:16"><span class="id" title="variable">out</span></a><a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">;</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#E:15"><span class="id" title="variable">E</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">{{</span></a> <a class="idref" href="WBLogic.program_logic.lifting.html#ead8a4e0181169e465090bd4715a840c"><span class="id" title="variable">Φ</span></a> <a class="idref" href="WBLogic.program_logic.weakestpre.html#c4a2c4d7e3cc404db366e8ac4317091d"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hexec</span> ?. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="WBLogic.program_logic.lifting.html#wbwp_pure_step_fupd"><span class="id" title="lemma">wbwp_pure_step_fupd</span></a> //. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hexec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="P:22" class="idref" href="#P:22"><span class="id" title="binder"><span id="P:23" class="id">P</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="notation">▷^</span><span class="id" title="var">n</span> <a class="idref" href="WBLogic.program_logic.lifting.html#P:22"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <span class="id" title="notation">|={</span><span class="id" title="var">E</span><span class="id" title="notation">}▷=&gt;^</span><span class="id" title="var">n</span> <a class="idref" href="WBLogic.program_logic.lifting.html#P:22"><span class="id" title="variable">P</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hwp</span> <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <span class="id" title="var">Hwp</span>. <span class="id" title="var">iIntros</span> (?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">step_fupd_intro</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>. <span class="id" title="var">iNext</span>; <span class="id" title="var">iApply</span> <span class="id" title="var">IH</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="WBLogic.program_logic.lifting.html#lifting"><span class="id" title="section">lifting</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
